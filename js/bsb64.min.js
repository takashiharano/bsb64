/*
 BSB64
 Copyright 2018 Takashi Harano
 Released under the MIT license
 https://bsb64.com/
*/
BSB64={encode:function(a,c){var d=BSB64.bit8.rotateLeft;0==c%8&&(d=BSB64.bit8.invert);for(var b=[],e=0;e<a.length;e++)b.push(d(a[e],c));return BSB64.Base64.encode(b)},decode:function(a,c){var d=BSB64.bit8.rotateRight;0==c%8&&(d=BSB64.bit8.invert);a=BSB64.Base64.decode(a);for(var b=[],e=0;e<a.length;e++)b.push(d(a[e],c));return b},encodeString:function(a,c){a=BSB64.UTF8.toByteArray(a);return BSB64.encode(a,c)},decodeString:function(a,c){a=BSB64.decode(a,c);return BSB64.UTF8.fromByteArray(a)},bit8:{rotateLeft:function(a,
c){c%=8;return(a<<c|a>>8-c)&255},rotateRight:function(a,c){c%=8;return(a>>c|a<<8-c)&255},invert:function(a){return~a&255}},Base64:{encode:function(a){var c=a.length;if(0==c)return"";for(var d={64:61,63:47,62:43},b=0;62>b;b++)d[b]=26>b?b+65:52>b?b+71:b-4;var e="";for(b=0;b<c;b+=3)e+=String.fromCharCode(d[a[b]>>>2],d[(a[b]&3)<<4|a[b+1]>>>4],d[b+1<c?(a[b+1]&15)<<2|a[b+2]>>>6:64],d[b+2<c?a[b+2]&63:64]);return e},decode:function(a){var c=[];if(0==a.length)return c;for(var d=0;d<a.length;d++){var b=a.charCodeAt(d);
if(!(48<=b&&57>=b||65<=b&&90>=b||97<=b&&122>=b||43==b||47==b||61==b))throw Error("Invalid char: "+b);}b={61:64,47:63,43:62};for(d=0;62>d;d++)b[26>d?d+65:52>d?d+71:d-4]=d;var e=[];for(d=0;d<a.length;d+=4){for(var f=0;4>f;f++)e[f]=b[a.charCodeAt(d+f)||0];c.push(e[0]<<2|(e[1]&63)>>>4,(e[1]&15)<<4|(e[2]&63)>>>2,(e[2]&3)<<6|e[3]&63)}64==e[3]&&(c.pop(),64==e[2]&&c.pop());return c}},UTF8:{toByteArray:function(a){var c=[];if(!a)return c;a=a.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[\s\S]/g)||[];for(var d=0;d<
a.length;d++){var b=a[d],e=b.charCodeAt(0);if(127>=e)c.push(e);else for(b=encodeURIComponent(b).split("%"),e=1;e<b.length;e++)c.push("0x"+b[e]|0)}return c},fromByteArray:function(a){if(!a)return null;for(var c="",d=0;d<a.length;d++)c+="%"+BSB64.toHex(a[d]);return decodeURIComponent(c)}},toHex:function(a){a=parseInt(a).toString(16).toUpperCase();2>a.length&&(a=("0"+a).slice(-2));return a}};
